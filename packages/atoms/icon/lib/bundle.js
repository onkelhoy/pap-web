var f=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var o=(n,a,e,t)=>{for(var s=t>1?void 0:t?m(a,e):a,i=n.length-1,c;i>=0;i--)(c=n[i])&&(s=(t?c(a,e,s):c(s))||s);return t&&s&&f(a,e,s),s};import{property as l,html as g,query as d}from"@papit/core";import{Asset as u}from"@papit/asset";var p=':host{display:inline-flex;justify-content:center;align-items:center;width:var(--icon-custom-size);height:var(--icon-custom-size)}:host span[part=flag]{font-size:1.5rem}:host([size=small]){--icon-custom-size: var(--icon-size-small, 16px)}:host([size=medium]){--icon-custom-size: var(--icon-size-medium, 20px)}:host([size=large]){--icon-custom-size: var(--icon-size-large, 40px)}:host(:not([container])) svg{width:inherit;height:inherit}:host([container]){display:flex}:host([container]) svg{width:var(--icon-custom-size);height:var(--icon-custom-size)}:host([container=smaller]){width:var(--field-smaller, 24px);height:var(--field-smaller, 24px)}:host([container=small]){width:var(--field-small, 32px);height:var(--field-small, 32px)}:host([container=medium]){width:var(--field-medium, 40px);height:var(--field-medium, 40px)}:host([container=large]){width:var(--field-large, 56px);height:var(--field-large, 56px)}svg{fill:currentColor}:host([data-hide-slot=true])::part(fallback){display:none}:host([data-hide-slot=false]){width:fit-content}:host([data-hide-slot=false]) svg{display:none}:host([country-flag]) svg{display:none}:host([country-flag])::part(fallback){display:none}:host([country-flag=""]) span[part=flag],:host(:not([country-flag])) span[part=flag]{display:none}';var h={A:"\u{1F1E6}",B:"\u{1F1E7}",C:"\u{1F1E8}",D:"\u{1F1E9}",E:"\u{1F1EA}",F:"\u{1F1EB}",G:"\u{1F1EC}",H:"\u{1F1ED}",I:"\u{1F1EE}",J:"\u{1F1EF}",K:"\u{1F1F0}",L:"\u{1F1F1}",M:"\u{1F1F2}",N:"\u{1F1F3}",O:"\u{1F1F4}",P:"\u{1F1F5}",Q:"\u{1F1F6}",R:"\u{1F1F7}",S:"\u{1F1F8}",T:"\u{1F1F9}",U:"\u{1F1FA}",V:"\u{1F1FB}",W:"\u{1F1FC}",X:"\u{1F1FD}",Y:"\u{1F1FE}",Z:"\u{1F1FF}"};var r=class extends u{constructor(){super();this.content="";this.viewbox="0 96 960 960";this.size="medium";this.assetBase="/icons"}async handleResponse(e){let t,s="0 96 960 960";if(typeof e=="string")t=e;else{t=await e.text();let[i,c]=this.extractSvgContent(t);c&&(s=c),i&&(t=`SVG:${s}##${i.trim()}`,this.cacheData(this.file,t))}t.startsWith("SVG:")?(this.setAttribute("data-hide-slot","true"),this.content=t,this.getAttribute("show")&&console.log(t),this.setSVG()):this.setAttribute("data-hide-slot","false")}handleError(){this.setAttribute("data-hide-slot","false")}extractSvgContent(e){let i=new DOMParser().parseFromString(e,"image/svg+xml").querySelector("svg");return i?[i.innerHTML,i.getAttribute("viewBox")]:["",""]}setSVG(){if(this.svgElement){let e=/SVG:(.*)##/.exec(this.content);if(e){let t=this.content.split(e[1])[1];this.viewbox=e[1],this.svgElement.innerHTML=t}}}setFlag(){var e;if(this.countryFlag){let t=this.countryFlag;t.toLowerCase()==="en"&&(t="gb");let s=!1;if(this.flag=t.toUpperCase().split("").map(i=>{if(h[i])return h[i];s=!0,console.error("please provide valid country-region code: "+this.countryFlag)}).join(""),!s){(e=this.requestUpdate)==null||e.call(this);return}}}render(){return g`
      <slot part="fallback"></slot>
      <span part="flag">${this.flag}</span>
      <svg 
        xmlns="http://www.w3.org/2000/svg" 
        viewBox="${this.viewbox}"
        part="svg"
      >
        ${this.content}
      </svg>
    `}};r.style=p,o([d({selector:"svg",load:function(){this.setSVG()}})],r.prototype,"svgElement",2),o([l({rerender:!1})],r.prototype,"container",2),o([l()],r.prototype,"viewbox",2),o([l({rerender:!1,after:function(n){this.file=n+".svg"}})],r.prototype,"name",2),o([l({rerender:!1,after:function(){this.color&&(this.style.color=this.color)}})],r.prototype,"color",2),o([l({rerender:!1,after:function(){this.style.removeProperty("--icon-custom-size")}})],r.prototype,"size",2),o([l({rerender:!1,attribute:"custom-size",type:Number,after:function(){this.customSize!==void 0&&this.style.setProperty("--icon-custom-size",this.customSize+"px")}})],r.prototype,"customSize",2),o([l({rerender:!1,attribute:"country-flag",after:function(n,a){n!==a&&this.setFlag()}})],r.prototype,"countryFlag",2);if(!window.customElements)throw new Error("Custom Elements not supported");window.customElements.get("pap-icon")||window.customElements.define("pap-icon",r);export{h as CountryEmojiSet,r as Icon};
